synopsis: Add and use weeder
prs: #6779 #6790
